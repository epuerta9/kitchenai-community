# KitchenAI Default Starter Template

Welcome to the **KitchenAI Default Starter Template**! This template provides a foundational setup for working with KitchenAI, integrating document storage, vector indexing, and querying capabilities, all powered by OpenAIâ€™s language models. With this starter, youâ€™ll quickly set up a KitchenAI app to handle document ingestion, vector storage with metadata, and natural language querying.

---

## Features

- **File Storage with Metadata**: Upload and store files in a Chroma vector store with associated metadata for enhanced query relevance.
- **Document Parsing and Indexing**: Automatically parse and transform documents with tools like token splitting, title extraction, and question-answer extraction to create an efficient index.
- **LLM-Driven Querying**: Query stored documents using OpenAIâ€™s `gpt-4` model for intelligent, context-aware responses.

---

## Table of Contents

- [Installation](#installation)
- [Configuration](#configuration)
- [Usage](#usage)
  - [File Storage](#file-storage)
  - [Querying](#querying)
- [License](#license)

---

---

> **IMPORTANT**: Access the Swagger UI documentation at `/api/docs` to upload, manage files, and query the RFPs. This is the primary interface for file operations.

> **IMPORTANT**: Access the Django Admin at `/kitchenai-admin` with the `admin@localhost` and `admin` user credentials to manage files.

## Prerequisites

1. **Python 3.11** (ensure compatibility with dependencies)
2. **OpenAI API Key**: Required for language model and embedding services.
3. **ChromaDB**: Vector storage solution for handling vector embeddings.
4. **Environment Variables**:
   - `KITCHENAI_DEBUG`: True
   - `OPENAI_API_KEY`: Key for accessing the OpenAI API.

---

## Setup Instructions

1. **Create new environment**:
   ```bash
   python -m venv venv && source venv/bin/activate
   ```

2. **Install Dependencies**:
   ```bash
   pip install kitchenai && pip install -r requirements.txt
   ```

2. **Environment Configuration**:
   Set up your environment variables using export command.

3. **Run the Server**:
   Start the server to enable file uploads and agent-based querying:
   ```bash
   kitchenai init && kitchenai setup && kitchenai dev --module app:kitchen 
   ```

---


## Configuration

- **ChromaDB**: This template uses `chroma_db` as the storage location for your vector database. The Chroma vector store enables efficient storage and retrieval of document embeddings with metadata.
- **Language Model**: This starter configures OpenAI's `gpt-4` model. Make sure your API key is properly set in the environment variables.

---

## Usage

This template provides two main functionalities: storing files with metadata and querying stored documents.

### 1. File Storage

The `chromadb_storage` function enables file uploads, parsing, and storage into a vector store with metadata.

**Function**: `@kitchen.storage("file")`

- **Description**: Parses and stores files in a Chroma vector store using metadata, allowing for efficient and context-relevant queries.
- **Usage**:
   - Upload files with metadata to be processed.
   - Documents are parsed with transformations:
     - `TokenTextSplitter`: Splits content into tokens.
     - `TitleExtractor`: Extracts titles.
     - `QuestionsAnsweredExtractor`: Identifies question-answer pairs.

```python
@kitchen.storage("file")
def chromadb_storage(dir: str, metadata: dict = {}, *args, **kwargs):
    # Stores uploaded files into a vector store with metadata
```

**Response**:
```json
{
  "msg": "ok",
  "documents": 3  // Number of documents processed and stored
}
```

### 2. Querying

The `query` function allows you to query the stored documents using natural language, with OpenAIâ€™s language model providing context-aware responses.

**Function**: `@kitchen.query("query")`

- **Description**: Queries the stored documents based on user input and returns intelligent responses generated by `gpt-4`.
- **Usage**:
   - Send a query with the specific information you need from the documents.
   - The app uses a chat engine (`chat_mode="best"`) to interact with stored documents.

```python
@kitchen.query("query")
async def query(request, query: Query):
    # Queries stored documents based on the input query
```

**Example Request**:
```json
{
  "query": "What are the key points of the latest RFP?"
}
```

**Example Response**:
```json
{
  "msg": "The main points of the RFP are...",
  "response": "AI-driven response from gpt-4 based on indexed documents."
}
```

---

## License

`kitchenai-community` is distributed under the terms of the [MIT](https://spdx.org/licenses/MIT.html) license.

---

This template provides the essentials to get started with KitchenAI, allowing you to build intelligent, context-driven applications that utilize document indexing and natural language querying. Dive in and start exploring the power of KitchenAI today! ðŸŽ‰